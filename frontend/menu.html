<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Principal - Styllo Fashion</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="menu.css">
    <link rel="stylesheet" href="componentes.css">
    <link rel="stylesheet" href="notifications.css">
</head>
<body>
    <header>
        <nav></nav>
    </header>
    <main class="main-content menu-dashboard">
        <section class="menu-hero">
            <div class="menu-hero__text">
                <span class="menu-hero__subtitle">Bem-vindo(a), <strong id="menu-username">Usuário</strong></span>
                <h1 class="menu-hero__title">Escolha o que deseja gerenciar hoje</h1>
                <p class="menu-hero__description">Acompanhe o movimento do caixa, cadastre novos produtos e mantenha tudo organizado em um unico lugar.</p>
                <div class="menu-hero__actions">
                    <a class="menu-hero__btn menu-hero__btn--primary" href="./caixa.html">Ir para o Registro de Venda</a>
                    <a class="menu-hero__btn menu-hero__btn--secondary" href="./estoque.html">Ver Estoque</a>
                </div>
            </div>
            <div class="menu-hero__card">
                <h2>Resumo rápido</h2>
                <ul>
                    <li><span class="label">Perfil:</span> <span id="menu-user-role">-</span></li>
                    <li><span class="label">Último acesso:</span> <span id="menu-last-login">Agora mesmo</span></li>
                    <li><span class="label">Status:</span> <span class="status-pill status-pill--active">Sistema operacional</span></li>
                </ul>
            </div>
        </section>
        <section class="menu-info">
            <div class="menu-info__card">
                <h4>Boas práticas</h4>
                <p>Mantenha o estoque atualizado diariamente e realize sangrias sempre que o caixa estiver acima do limite definido pela loja.</p>
            </div>
            <div class="menu-info__card">
                <h4>Dica rápida</h4>
                <p>Use o menu superior para navegar entre os modulos. As opções mudam conforme o cargo do usuário logado.</p>
            </div>
        </section>
    </main>

<script src="api-client.js"></script>
    <script src="auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const usernameEl = document.getElementById('menu-username');
            const roleEl = document.getElementById('menu-user-role');
            const username = sessionStorage.getItem('username');
            const cargo = sessionStorage.getItem('userCargo');

            if (username && usernameEl) {
                usernameEl.textContent = username;
            }

            if (roleEl) {
                roleEl.textContent = cargo || 'Usuário';
            }

            // Corrige acentuação de textos estáticos
            try {
                const heroDesc = document.querySelector('.menu-hero__description');
                if (heroDesc) heroDesc.textContent = 'Acompanhe o movimento do caixa, cadastre novos produtos e mantenha tudo organizado em um único lugar.';

                const cardTitle = document.querySelector('.menu-hero__card h2');
                if (cardTitle) cardTitle.textContent = 'Resumo rápido';

                const lastAccessLabel = document.querySelector('.menu-hero__card .label');
                const labels = document.querySelectorAll('.menu-hero__card .label');
                if (labels && labels[1]) labels[1].textContent = 'Último acesso:';

                const boas = Array.from(document.querySelectorAll('.menu-info__card h4')).find(el => el.textContent.includes('Boas'));
                if (boas) boas.textContent = 'Boas práticas';
                const dica = Array.from(document.querySelectorAll('.menu-info__card h4')).find(el => el.textContent.includes('Dica'));
                if (dica) dica.textContent = 'Dica rápida';

                const dicaP = Array.from(document.querySelectorAll('.menu-info__card p')).find(el => el.textContent.includes('menu superior'));
                if (dicaP) dicaP.textContent = 'Use o menu superior para navegar entre os módulos. As opções mudam conforme o cargo do usuário logado.';
            } catch (_) {}
        });
    </script>
</body>
</html>
